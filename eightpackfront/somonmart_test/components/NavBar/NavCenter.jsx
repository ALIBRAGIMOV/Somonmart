import React from "react";
import Grid from "@material-ui/core/Grid";
import Link from "next/link";
import { makeStyles } from "@material-ui/core";
import Badge from "@material-ui/core/Badge";
import { useSelector, useDispatch } from "react-redux";
import { useRouter } from "next/router";


const useStyles = makeStyles((theme) => ({
  container: {
    marginRight: "auto",
    marginLeft: "auto",
    [theme.breakpoints.up("md")]: {
      width: "970px",
      paddingLeft: 0,
    },
    alignItems: "center",
    [theme.breakpoints.up("lg")]: {
      width: "1260px",
    },
  },
}));

export default function NavCenter() {
  const globalCart = useSelector((state) => state.cart.cart);
  const allPrice =
    globalCart.reduce((a, c) => a + c.price * c.count, 0);

  const classes = useStyles();
    const router = useRouter();

  return (
    <div className={classes.container}>
      <Grid container>
        <Grid item xs={3}>
          <div style={{ cursor: "pointer", marginTop: -8 }}>
            <Link href="/">
              <svg
                width="294.28"
                height="57.88999999999999"
                xmlns="http://www.w3.org/2000/svg"
              >
                <g>
                  <title>background</title>
                  <rect
                    fill="none"
                    id="canvas_background"
                    height="59.89"
                    width="296.28"
                    y="-1"
                    x="-1"
                  />
                </g>
                <g>
                  <title>Layer 1</title>
                  <g id="svg_1">
                    <path
                      id="svg_2"
                      d="m76.93,39.14c5.63,0 8.37,-2.82 8.37,-6.11c0,-7.24 -11.47,-4.73 -11.47,-8.37c0,-1.24 1.04,-2.26 3.75,-2.26c1.75,0 3.63,0.51 5.47,1.55l1.41,-3.47c-1.83,-1.16 -4.37,-1.75 -6.85,-1.75c-5.61,0 -8.31,2.79 -8.31,6.15c0,7.33 11.47,4.79 11.47,8.48c0,1.21 -1.1,2.11 -3.8,2.11c-2.37,0 -4.85,-0.85 -6.51,-2.05l-1.55,3.43c1.74,1.36 4.89,2.29 8.02,2.29l0,0zm21.05,0c6.2,0 10.79,-4.31 10.79,-10.2s-4.59,-10.2 -10.79,-10.2c-6.23,0 -10.79,4.34 -10.79,10.2c0,5.86 4.56,10.2 10.79,10.2l0,0zm0,-3.88c-3.52,0 -6.17,-2.56 -6.17,-6.31s2.65,-6.31 6.17,-6.31c3.52,0 6.17,2.56 6.17,6.31s-2.65,6.31 -6.17,6.31l0,0zm36.45,3.55l-0.06,-19.72l-3.75,0l-7.26,12.26l-7.38,-12.26l-3.78,0l0,19.72l4.28,0l0,-11.58l5.77,9.49l2.06,0l5.8,-9.75l0.03,11.83l4.29,0l0,0.01zm14.23,0.33c6.2,0 10.79,-4.31 10.79,-10.2s-4.59,-10.2 -10.79,-10.2c-6.23,0 -10.79,4.34 -10.79,10.2c0,5.86 4.57,10.2 10.79,10.2l0,0zm0,-3.88c-3.52,0 -6.17,-2.56 -6.17,-6.31s2.65,-6.31 6.17,-6.31s6.17,2.56 6.17,6.31s-2.65,6.31 -6.17,6.31l0,0zm27.81,-16.18l0,11.97l-9.8,-11.97l-3.78,0l0,19.72l4.51,0l0,-11.97l9.83,11.97l3.75,0l0,-19.72l-4.51,0z"
                      className="st0"
                    />
                    <path
                      id="svg_3"
                      d="m213.54,38.81l-0.03,-19.72l-3.01,0l-7.7,13.07l-7.84,-13.07l-3.01,0l0,19.72l3.49,0l0,-12.9l6.48,10.65l1.64,0l6.48,-10.82l0.03,13.07l3.47,0l0,0zm20.07,0l3.83,0l-8.9,-19.72l-3.61,0l-8.87,19.72l3.78,0l1.94,-4.56l9.86,0l1.97,4.56l0,0zm-10.59,-7.44l3.69,-8.62l3.72,8.62l-7.41,0l0,0zm33.78,7.44l-4.54,-6.48c2.68,-1.04 4.2,-3.24 4.2,-6.23c0,-4.37 -3.21,-7.02 -8.4,-7.02l-8.11,0l0,19.72l3.66,0l0,-5.75l4.45,0c0.25,0 0.51,0 0.76,-0.03l4.03,5.78l3.95,0l0,0.01zm-4.03,-12.71c0,2.48 -1.66,3.94 -4.87,3.94l-4.28,0l0,-7.86l4.28,0c3.21,0 4.87,1.44 4.87,3.92l0,0zm11.5,12.71l3.66,0l0,-16.62l6.54,0l0,-3.1l-16.74,0l0,3.1l6.54,0l0,16.62z"
                      className="st1"
                    />
                    <path
                      id="svg_4"
                      d="m39.39,7.65c5.88,0 11.2,2.38 15.05,6.24c3.85,3.85 6.24,9.18 6.24,15.05c0,5.88 -2.38,11.2 -6.24,15.05c-3.85,3.85 -9.18,6.24 -15.05,6.24c-5.88,0 -11.2,-2.38 -15.05,-6.24c-3.85,-3.85 -6.24,-9.18 -6.24,-15.05c0,-5.88 2.38,-11.2 6.24,-15.05c3.85,-3.85 9.17,-6.24 15.05,-6.24l0,0zm12.76,23.69c0.75,-0.36 1.29,-0.91 1.57,-1.63c-0.28,0.43 -0.67,0.77 -1.17,1.01c-1.06,0.37 -2.07,0.15 -2.73,-0.09c-0.92,-0.33 -1.76,-0.9 -2.41,-1.6c1.89,-0.96 3.79,-1.92 5.69,-2.88c-0.12,-0.17 -0.25,-0.34 -0.39,-0.51c-0.33,-0.38 -0.57,-0.64 -0.73,-0.83c-0.23,-0.26 -0.47,-0.51 -0.71,-0.76c0.4,0.46 1.5,1.91 1.49,1.91c-0.64,0.33 -1.27,0.65 -1.91,0.98c0.01,0 -1.09,-1.28 -1.48,-1.69c0.35,0.43 1.3,1.78 1.29,1.78c-0.64,0.33 -1.27,0.65 -1.91,0.98c0.01,0 -1.04,-1.29 -1.41,-1.7c0.34,0.44 1.23,1.8 1.22,1.8c-0.64,0.33 -1.28,0.66 -1.92,0.98c0.01,0 -0.91,-1.21 -1.22,-1.58c0.32,0.47 0.63,0.95 0.92,1.44c0.63,1.05 1.72,1.9 2.98,2.33c0.68,0.24 1.71,0.45 2.83,0.06l0,0zm-10.43,-15.41c-0.1,0.11 6.99,5.23 10.09,9.78c-0.26,0.14 -0.52,0.27 -0.78,0.41c-3.37,-4.31 -10.34,-9.25 -10.65,-8.96c-0.1,0.11 6.56,5.21 9.37,9.64c-0.26,0.14 -0.52,0.27 -0.78,0.41c-3.08,-4.19 -9.62,-9.11 -9.94,-8.83c-0.1,0.12 6.13,5.19 8.65,9.51c-0.26,0.14 -0.52,0.28 -0.79,0.42c-2.79,-4.08 -8.9,-8.97 -9.21,-8.7c0.13,0.04 7.24,7.25 8.09,9.59c1.14,1.85 3.55,3.19 5.93,2.86c10.5,-2.97 -9.25,-16.73 -9.98,-16.13l0,0zm11.72,-1.04c-3.6,-3.6 -8.56,-5.82 -14.05,-5.82c-5.49,0 -10.46,2.22 -14.05,5.82c-3.6,3.6 -5.82,8.56 -5.82,14.05c0,5.49 2.22,10.46 5.82,14.05c3.6,3.6 8.56,5.82 14.05,5.82c5.49,0 10.46,-2.22 14.05,-5.82c3.6,-3.6 5.82,-8.56 5.82,-14.05c0,-5.48 -2.22,-10.45 -5.82,-14.05l0,0zm-14.05,-4.73c-5.44,0 -10.34,2.31 -13.77,6c-3.68,6.86 -0.53,14.73 10.18,19.8c0,0 -11.62,-5.73 -9.8,-13.33c0,0 0,0 0,0c1.26,0.73 2.99,1.41 5.23,2.19c7.54,2.62 7.19,10.16 7.21,10.86c0.04,2.67 1.64,3.41 1.64,3.41s-15.68,0.29 -17.01,-14.9c-0.22,-2.46 0.35,-4.6 1.16,-6.31c-2.27,3.11 -3.62,6.94 -3.62,11.08c0,10.38 8.41,18.79 18.79,18.79c3.42,0 6.63,-0.92 9.39,-2.51c3.21,-2.3 5.17,-5.49 5.08,-8.98c-0.04,-1.4 -0.4,-2.73 -1.03,-3.97l0.34,-0.2c1.09,1.59 1.73,3.38 1.78,5.28c0.02,0.87 -0.08,1.72 -0.29,2.54c2.22,-3.08 3.52,-6.87 3.52,-10.95c-0.01,-10.39 -8.42,-18.8 -18.8,-18.8z"
                      className="st0"
                    />
                  </g>
                </g>
              </svg>
            </Link>
          </div>
        </Grid>

        <Grid item xs={6}>
          <div className="numberphone" style={{ marginLeft: 15 }}>
            <span className="icoPhone" />
            <a className="phone" href="tel:+79256042494">
              +7(925)-604-24-94
            </a>
          </div>
        </Grid>
        <Grid item xs>
          <Link href="/cart">
            <div className="numberphone" style={{ float: "right" }}>
              <a className="user">
                <Badge
                  badgeContent={globalCart.length}
                  color="secondary"
                  className={classes.badge}
                  style={{ marginRight: 10 }}
                >
                  <svg
                    className="imgcart"
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="33"
                    viewBox="0 0 24 24"
                  >
                    <path d="M6.665 9.068l-3.665-1.66v14l3.665 2.592 14.335-2.155v-14.845l-14.335 2.068zm-1.665 1.441l1 .453v10.118l-1-.707v-9.864zm14 9.615l-11 1.653v-10.881l11-1.587v10.815zm-2-15.833l-.001 1.749c0 .246-.18.455-.423.492-.303.045-.576-.19-.576-.495v-1.746c.001-.691-.231-1.304-.653-1.726-.368-.37-.847-.565-1.384-.565-1.547 0-2.96 1.558-2.963 3.268v1.681c0 .247-.181.457-.425.494-.302.046-.575-.189-.575-.494l.001-1.683c.004-2.261 1.866-4.266 3.962-4.266 1.717 0 3.039 1.387 3.037 3.291zm-9.999 2.209v-2.235c.004-2.26 1.866-4.265 3.962-4.265.492 0 .944.125 1.35.332-.423.17-.822.4-1.188.683l-.162-.015c-1.547 0-2.961 1.558-2.963 3.268v2.232c0 .248-.182.458-.427.494-.3.045-.572-.187-.572-.494z" />
                  </svg>
                </Badge>
                {allPrice} â‚½.
              </a>
            </div>
          </Link>
        </Grid>
      </Grid>

      <style jsx>
        {`
          .st0 {
            fill-rule: evenodd;
            clip-rule: evenodd;
            fill: #0ea035;
          }
          .st1 {
            fill-rule: evenodd;
            clip-rule: evenodd;
            fill: #ffcc00;
          }
          .numberphone {
            display: flex;
            align-items: center;
          }
          .phone {
            display: flex;
            font-family: Montserrat, sans-serif;
            font-weight: 400;
            font-size: 14px;
            cursor: pointer;
            text-decoration: none;
            color: black;
            font-size: 22px;
          }
          .user {
            font-family: Montserrat, sans-serif;
            font-weight: 500;
            font-size: 22px;
            cursor: pointer;
            text-decoration: none;
          }

          .icoPhone {
            display: flex;
            top: 26px;
            margin-right: 10px;
            width: 27px;
            height: 46px;
            background: url(https://image.flaticon.com/icons/svg/174/174879.svg)
              no-repeat 0 0;
          }
          .user:hover {
            color: #209f38;
            cursor: pointer;
            font-weight: 500;
          }
          .phone:hover {
            color: #209f38;
            cursor: pointer;
            font-weight: 500;
          }
          .imgcart {
            padding-bottomb: 5px;
          }
          .imgcart:hover {
            fill: #209f38;
            cursor: pointer;
          }
        `}
      </style>
    </div>
  );
}
